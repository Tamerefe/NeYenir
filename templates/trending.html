{% extends "base.html" %}

{% block title %}Trend E≈üle≈ütirmeler - Ne Yenir?{% endblock %}

{% block content %}
<div class="container" style="padding-top: 100px;">
    <div class="row">
        <div class="col-lg-12 mx-auto">
            <div class="text-center mb-5">
                <h1 class="display-4 fw-bold text-white mb-3">
                    üî• Trend E≈üle≈ütirmeler
                </h1>
                <p class="lead text-white-50">
                    En pop√ºler yemek ve alkol e≈üle≈ütirmelerini ke≈üfedin
                </p>
            </div>

            <!-- Pop√ºler E≈üle≈ütirmeler Izgara D√ºzeni -->
            <div class="card modern-trending-container">
                <div class="card-header modern-trending-header">
                    <div class="d-flex align-items-center gap-3">
                        <div class="trending-icon-badge">
                            <i class="bi bi-fire"></i>
                        </div>
                        <div>
                            <h4 class="mb-0 text-white fw-bold">Pop√ºler E≈üle≈ütirmeler</h4>
                            <small class="text-white-50">{{ pairings|length }} trend e≈üle≈ütirme</small>
                        </div>
                    </div>
                </div>
                <div class="card-body modern-trending-body">
                    <div class="row g-4" id="trendingGrid">
                        {% for pairing in pairings %}
                        <div class="col-lg-6 col-md-6 trending-item" style="animation-delay: {{ (loop.index - 1) * 0.1 }}s">
                            <div class="modern-trending-card">
                                <div class="trending-card-glow"></div>
                                
                                <!-- Trend Badge -->
                                <div class="trend-number-badge">
                                    <span class="trend-number">#{{ loop.index }}</span>
                                    <span class="trend-label">Trend</span>
                                </div>
                                
                                <!-- Popularity Indicator -->
                                <div class="popularity-indicator">
                                    <div class="popularity-bar" style="--popularity: {{ ((20 - loop.index + 1) / 20) * 100 }}%">
                                        <span class="popularity-shimmer"></span>
                                    </div>
                                    <small class="popularity-label">Pop√ºlerlik</small>
                                </div>

                                <div class="card-body">
                                    <div class="pairing-content">
                                        <div class="row g-3">
                                            <!-- Food Section -->
                                            <div class="col-6">
                                                <div class="modern-food-section">
                                                    <div class="section-label">
                                                        <i class="bi bi-egg-fried"></i>
                                                        <span>Yemek</span>
                                                    </div>
                                                    <div class="item-display">
                                                        <span class="item-flag">
                                                            {% if pairing.food.cuisine_type == 'Turkish' %}üáπüá∑
                                                            {% elif pairing.food.cuisine_type == 'French' %}üá´üá∑
                                                            {% elif pairing.food.cuisine_type == 'Italian' %}üáÆüáπ
                                                            {% elif pairing.food.cuisine_type == 'Japanese' %}üáØüáµ
                                                            {% elif pairing.food.cuisine_type == 'British' %}üá¨üáß
                                                            {% elif pairing.food.cuisine_type == 'American' %}üá∫üá∏
                                                            {% elif pairing.food.cuisine_type == 'Chinese' %}üá®üá≥
                                                            {% elif pairing.food.cuisine_type == 'Indian' %}üáÆüá≥
                                                            {% elif pairing.food.cuisine_type == 'Mexican' %}üá≤üáΩ
                                                            {% elif pairing.food.cuisine_type == 'Spanish' %}üá™üá∏
                                                            {% elif pairing.food.cuisine_type == 'Greek' %}üá¨üá∑
                                                            {% else %}üåç
                                                            {% endif %}
                                                        </span>
                                                        <h5 class="item-name">{{ pairing.food.name }}</h5>
                                                    </div>
                                                    <div class="item-tags">
                                                        <span class="cuisine-tag food-tag">
                                                            {% if pairing.food.cuisine_type == 'Turkish' %}T√ºrk
                                                            {% elif pairing.food.cuisine_type == 'French' %}Fransƒ±z
                                                            {% elif pairing.food.cuisine_type == 'Italian' %}ƒ∞talyan
                                                            {% elif pairing.food.cuisine_type == 'Japanese' %}Japon
                                                            {% elif pairing.food.cuisine_type == 'British' %}ƒ∞ngiliz
                                                            {% elif pairing.food.cuisine_type == 'American' %}Amerikan
                                                            {% elif pairing.food.cuisine_type == 'Chinese' %}√áin
                                                            {% elif pairing.food.cuisine_type == 'Indian' %}Hint
                                                            {% elif pairing.food.cuisine_type == 'Mexican' %}Meksika
                                                            {% elif pairing.food.cuisine_type == 'Spanish' %}ƒ∞spanyol
                                                            {% elif pairing.food.cuisine_type == 'Greek' %}Yunan
                                                            {% else %}{{ pairing.food.cuisine_type }}
                                                            {% endif %}
                                                        </span>
                                                        <span class="intensity-tag">
                                                            <i class="bi bi-fire"></i> {{ pairing.food.intensity }}/10
                                                        </span>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- Plus Icon -->
                                            <div class="col-auto d-flex align-items-center">
                                                <div class="pairing-connector">
                                                    <i class="bi bi-plus-circle-fill"></i>
                                                </div>
                                            </div>

                                            <!-- Alcohol Section -->
                                            <div class="col">
                                                <div class="modern-alcohol-section">
                                                    <div class="section-label">
                                                        <i class="bi bi-cup-straw"></i>
                                                        <span>ƒ∞√ßecek</span>
                                                    </div>
                                                    <div class="item-display">
                                                        <span class="item-flag">
                                                            {% if pairing.alcohol.type == 'Wine' %}üç∑
                                                            {% elif pairing.alcohol.type == 'Beer' %}üç∫
                                                            {% elif pairing.alcohol.type == 'Whiskey' %}ü•É
                                                            {% elif pairing.alcohol.type == 'Vodka' %}üç∏
                                                            {% elif pairing.alcohol.type == 'Gin' %}üç∏
                                                            {% elif pairing.alcohol.type == 'Rum' %}ü•É
                                                            {% elif pairing.alcohol.type == 'Tequila' %}üçπ
                                                            {% elif pairing.alcohol.type == 'Brandy' %}ü•É
                                                            {% elif pairing.alcohol.type == 'Cognac' %}ü•É
                                                            {% elif pairing.alcohol.type == 'Champagne' %}üçæ
                                                            {% elif pairing.alcohol.type == 'Cocktail' %}üçπ
                                                            {% else %}üç∑
                                                            {% endif %}
                                                        </span>
                                                        <h5 class="item-name">{{ pairing.alcohol.name }}</h5>
                                                    </div>
                                                    <div class="item-tags">
                                                        <span class="cuisine-tag alcohol-tag">
                                                            {% if pairing.alcohol.type == 'Wine' %}≈ûarap
                                                            {% elif pairing.alcohol.type == 'Beer' %}Bira
                                                            {% elif pairing.alcohol.type == 'Whiskey' %}Viski
                                                            {% elif pairing.alcohol.type == 'Vodka' %}Votka
                                                            {% elif pairing.alcohol.type == 'Gin' %}Cin
                                                            {% elif pairing.alcohol.type == 'Rum' %}Rom
                                                            {% elif pairing.alcohol.type == 'Tequila' %}Tekila
                                                            {% elif pairing.alcohol.type == 'Brandy' %}Kanyak
                                                            {% elif pairing.alcohol.type == 'Cognac' %}Konyak
                                                            {% elif pairing.alcohol.type == 'Champagne' %}≈ûampanya
                                                            {% elif pairing.alcohol.type == 'Cocktail' %}Kokteyl
                                                            {% else %}{{ pairing.alcohol.type }}
                                                            {% endif %}
                                                        </span>
                                                        <span class="intensity-tag">
                                                            <i class="bi bi-thermometer-half"></i> {{ pairing.alcohol.alcohol_content }}%
                                                        </span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Stats Section -->
                                    <div class="pairing-stats">
                                        <div class="stat-item stat-compatibility">
                                            <div class="stat-icon">
                                                <i class="bi bi-heart-fill"></i>
                                            </div>
                                            <div class="stat-content">
                                                <div class="stat-value">{{ "%.1f"|format(pairing.compatibility_score) }}</div>
                                                <div class="stat-label">Uyumluluk</div>
                                            </div>
                                        </div>
                                        
                                        <div class="stat-item stat-popularity">
                                            <div class="stat-icon">
                                                <i class="bi bi-people-fill"></i>
                                            </div>
                                            <div class="stat-content">
                                                <div class="stat-value">{{ pairing.popularity_count }}</div>
                                                <div class="stat-label">Beƒüeni</div>
                                            </div>
                                        </div>
                                        
                                        <div class="stat-item stat-rating">
                                            <div class="stat-icon">
                                                <i class="bi bi-star-fill"></i>
                                            </div>
                                            <div class="stat-content">
                                                <div class="stat-value">{{ "%.1f"|format(pairing.average_rating or 0) }}</div>
                                                <div class="stat-label">Puan</div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Action Button -->
                                    <div class="mt-4">
                                        <a href="{{ url_for('main.recommend') }}#food-{{ pairing.food.name|replace(' ', '-') }}"
                                            class="btn-trending-action">
                                            <i class="bi bi-arrow-right-circle-fill"></i>
                                            <span>Bu E≈üle≈ütirmeyi Dene</span>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        {% endfor %}
                    </div>

                    {% if not pairings %}
                    <div class="text-center py-5">
                        <i class="bi bi-search display-1 text-muted"></i>
                        <h4 class="text-muted mt-3">Hen√ºz trend e≈üle≈ütirme bulunamadƒ±</h4>
                        <p class="text-muted">ƒ∞lk e≈üle≈ütirmeleri olu≈üturmak i√ßin √∂neriler sayfasƒ±nƒ± ziyaret edin.</p>
                        <a href="{{ url_for('main.recommend') }}" class="btn btn-primary">
                            <i class="bi bi-lightbulb"></i> √ñneriler Al
                        </a>
                    </div>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}